{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mk991\\\\Documents\\\\dailybruin\\\\external.covid-student-stories\\\\src\\\\pages\\\\DataPage.jsx\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { css } from \"emotion\";\nimport FilterDropdown from \"../components/FilterDropdown\";\nimport ReactList from \"react-list\";\nconst StoriesContainer = styled(\"div\")`\n  height: 90vh;\n  width: 100%;\n  display: flex;\n  background-color: lightcoral;\n`;\nconst FiltersContainer = styled(\"div\")`\n  height: 100%;\n  width: 30%;\n  display: flex;\n  flex-direction: column;\n  background-color: lightblue;\n  box-sizing: border-box;\n  padding: 30px;\n  line-height: 30px;\n  cursor: pointer;\n`;\nconst ScrollContainer = styled(\"div\")`\n  height: 100%;\n  width: 70%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\nconst StoryEntry = styled(\"div\")`\n  box-sizing: border-box;\n  border: 2px solid lightgreen;\n  margin: 5px;\n  padding: 5px;\n`;\nconst filterFields = [{\n  field: \"School\",\n  categories: [\"All\", \"UCLA\", \"USC\"]\n}, {\n  field: \"Major\",\n  categories: [\"All\", \"CS\", \"Math\", \"we should bin these\"]\n}];\n\nfunction showData(selectedFields, row) {\n  if (row.testimony == \"\") return false; // this code is terrible\n\n  for (let i = 0; i < selectedFields.length; i++) {\n    let e = selectedFields[i];\n    if (e.selection != \"All\" && row[e.field.toLowerCase()] != e.selection) return false;\n  }\n\n  return true;\n}\n\nexport default class DataPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFields: filterFields.map((element, key) => ({\n        field: element.field,\n        selection: \"All\",\n        key: key\n      }))\n    };\n    this.onFilterClick = this.onFilterClick.bind(this);\n  }\n\n  onFilterClick(field, selection) {\n    let newSelectedFields = this.state.selectedFields;\n    let selectedField = newSelectedFields.find(element => element.field == field);\n    selectedField.selection = selection;\n    this.setState({\n      selectedFields: newSelectedFields\n    });\n  }\n\n  render() {\n    let {\n      data\n    } = this.props;\n    const {\n      selectedFields\n    } = this.state;\n    data = data.filter(row => showData(selectedFields, row));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StoriesContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FiltersContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, filterFields.map(element => /*#__PURE__*/React.createElement(FilterDropdown, Object.assign({}, element, {\n      onClick: this.onFilterClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(ScrollContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/mk991/Documents/dailybruin/external.covid-student-stories/src/pages/DataPage.jsx"],"names":["React","styled","css","FilterDropdown","ReactList","StoriesContainer","FiltersContainer","ScrollContainer","StoryEntry","filterFields","field","categories","showData","selectedFields","row","testimony","i","length","e","selection","toLowerCase","DataPage","Component","constructor","props","state","map","element","key","onFilterClick","bind","newSelectedFields","selectedField","find","setState","render","data","filter"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { css } from \"emotion\";\r\nimport FilterDropdown from \"../components/FilterDropdown\";\r\nimport ReactList from \"react-list\";\r\n\r\nconst StoriesContainer = styled(\"div\")`\r\n  height: 90vh;\r\n  width: 100%;\r\n  display: flex;\r\n  background-color: lightcoral;\r\n`;\r\n\r\nconst FiltersContainer = styled(\"div\")`\r\n  height: 100%;\r\n  width: 30%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: lightblue;\r\n  box-sizing: border-box;\r\n  padding: 30px;\r\n  line-height: 30px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ScrollContainer = styled(\"div\")`\r\n  height: 100%;\r\n  width: 70%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst StoryEntry = styled(\"div\")`\r\n  box-sizing: border-box;\r\n  border: 2px solid lightgreen;\r\n  margin: 5px;\r\n  padding: 5px;\r\n`;\r\n\r\nconst filterFields = [\r\n  { field: \"School\", categories: [\"All\", \"UCLA\", \"USC\"] },\r\n  { field: \"Major\", categories: [\"All\", \"CS\", \"Math\", \"we should bin these\"] }\r\n];\r\n\r\nfunction showData(selectedFields, row) {\r\n  if (row.testimony == \"\") return false;\r\n  // this code is terrible\r\n  for (let i = 0; i < selectedFields.length; i++) {\r\n    let e = selectedFields[i];\r\n    if (e.selection != \"All\" && row[e.field.toLowerCase()] != e.selection)\r\n      return false;\r\n  }\r\n  return true;\r\n}\r\nexport default class DataPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedFields: filterFields.map((element, key) => ({\r\n        field: element.field,\r\n        selection: \"All\",\r\n        key: key\r\n      }))\r\n    };\r\n    this.onFilterClick = this.onFilterClick.bind(this);\r\n  }\r\n\r\n  onFilterClick(field, selection) {\r\n    let newSelectedFields = this.state.selectedFields;\r\n    let selectedField = newSelectedFields.find(\r\n      element => element.field == field\r\n    );\r\n    selectedField.selection = selection;\r\n    this.setState({ selectedFields: newSelectedFields });\r\n  }\r\n\r\n  render() {\r\n    let { data } = this.props;\r\n    const { selectedFields } = this.state;\r\n    data = data.filter(row => showData(selectedFields, row));\r\n    return (\r\n      <>\r\n        <StoriesContainer>\r\n          <FiltersContainer>\r\n            {filterFields.map(element => (\r\n              <FilterDropdown {...element} onClick={this.onFilterClick} />\r\n            ))}\r\n          </FiltersContainer>\r\n          <ScrollContainer>\r\n            {/*<div style={{ height: \"100%\", overflow: \"auto\" }}>\r\n              <ReactList\r\n                axis=\"y\"\r\n                threshold={50}\r\n                length={data.length}\r\n                itemRenderer={idx => {\r\n                  let row = data[idx];\r\n                  return (\r\n                    <StoryEntry>\r\n                      <b>\r\n                        {row.major} at {row.school}:\r\n                      </b>{\" \"}\r\n                      {console.log(row)}\r\n                      {row.testimony}\r\n                    </StoryEntry>\r\n                  );\r\n                }}\r\n                type=\"variable\"\r\n              />\r\n            </div>*/}\r\n          </ScrollContainer>\r\n        </StoriesContainer>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}